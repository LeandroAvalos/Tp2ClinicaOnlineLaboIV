<div class="contenedor-estadisticas">
  <div>
    <h3>ESTADÍSTICAS</h3>
    <div class="row">
      <div
        class="col carta-especialista"
        data-bs-toggle="modal"
        data-bs-target="#modalLogUsuarios"
        [appInteriorCard]="'log'"
        [appDeslizarCards]="'verde'"
      ></div>
      <div
        class="col carta-especialista"
        data-bs-toggle="modal"
        data-bs-target="#modalTurnosPorEspecialidad"
        [appInteriorCard]="'especialidad'"
        [appDeslizarCards]="'verde'"
      ></div>
      <div
        class="col carta-especialista"
        data-bs-toggle="modal"
        data-bs-target="#modalTurnosPorDia"
        [appInteriorCard]="'dia'"
        [appDeslizarCards]="'verde'"
      ></div>
      <div
        class="col carta-especialista"
        data-bs-toggle="modal"
        data-bs-target="#modalTurnosSolicitadosPorMedico"
        [appInteriorCard]="'solicitados'"
        [appDeslizarCards]="'verde'"
      ></div>
      <div
        class="col carta-especialista"
        data-bs-toggle="modal"
        data-bs-target="#modalTurnosFinalizadosPorMedico"
        [appInteriorCard]="'finalizados'"
        [appDeslizarCards]="'verde'"
      ></div>
    </div>
  </div>
</div>

<div class="informes-container"></div>

<!-- MODAL DE LOG DE USUARIOS -->
<div
  class="modal fade modal-xl"
  id="modalLogUsuarios"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body" style="background-color: rgba(0,156,140,.7);">
        <button
          type="button"
          [appDeslizarCards]="'verde'"
          [appCambioColorPdfExcel]="'pdf'"
          style="margin-right: 1rem; margin-bottom: 1rem;margin-left: 25rem;"
          (click)="descargarPDFLogs()"
        >
          Descargar PDF
        </button>
        <button
          type="button"
          [appCambioColorPdfExcel]="'excel'"
          style="margin-bottom: 1rem"
          (click)="descargarExcelLogs()"
        >
          Descargar EXCEL
        </button>
        <div id="pdflogs">
          <div
            style=" margin-bottom: 2rem" class="d-flex flex-column justify-content-center align-items-center"
          >
            <div>
              <h2
                style="
                  text-align: center;
                  font-size: 1.5rem;
                  font-weight: bolder;
                  padding-top: 2rem;
                  margin-left: auto;
                  margin-right: auto;
                "
                id="exampleModalLabel"
              >
                CLÍNICA ONLINE
              </h2>
            </div>
            <div>
                <img
                  src="../../../assets/hospital.png"
                  style="width: 100px"
                  alt="logo"
                />
            </div>
          </div>
          <h1 style="text-align: center; font-size: 1.5rem; margin-left: auto; margin-right: auto;">Registro de inicio de sesión de los usuarios</h1>
          <table class="table table-striped table-bordered table-sm" >
            <thead>
              <tr class="table-warning">
                <th scope="col">FECHA</th>
                <!-- <th scope="col">ID</th> -->
                <th scope="col">PERFIL</th>
                <th scope="col">NOMBRE</th>
                <th scope="col">APELLIDO</th>
              </tr>
            </thead>
            <tbody>
              <tr class="tr-tabla table-info" *ngFor="let log of listaLogs">
                <td>
                  {{ log.fecha | diaYHora }}
                </td>
                <!-- <td>{{ log.id }}</td> -->
                <td>{{ log.perfil }}</td>
                <td>{{ log.nombre }}</td>
                <td>{{ log.apellido }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- MODAL DE TURNOS POR ESPECIALIDAD -->
<div
  class="modal fade modal-xl"
  id="modalTurnosPorEspecialidad"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body" style="background-color: rgba(0,156,140,.7);">
        <button
          type="button"
          [appCambioColorPdfExcel]="'pdf'"
          style="margin-right: 1rem; margin-bottom: 1rem; margin-left: 25rem;"
          (click)="descargarPDFTurnosPorEspecialidad()"
        >
          Descargar PDF
        </button>
        <button
          type="button"
          [appCambioColorPdfExcel]="'excel'"
          style="margin-bottom: 1rem"
          (click)="descargarExcelTurnosPorEspecialidad()"
        >
          Descargar EXCEL
        </button>
        <div id="pdfTurnosPorEspecialidad">
          <div
            style=" margin-bottom: 2rem" class="d-flex flex-column justify-content-center align-items-center"
          >
            <div>
              <h2
                style="
                  text-align: center;
                  font-size: 1.5rem;
                  font-weight: bolder;
                  padding-top: 2rem;
                  margin-left: auto;
                  margin-right: auto;
                "
                id="exampleModalLabel"
              >
                CLÍNICA ONLINE
              </h2>
            </div>
            <div>
                <img
                  src="../../../assets/hospital.png"
                  style="width: 100px"
                  alt="logo"
                />
            </div>
          </div>
          <h1 style="text-align: center; font-size: 1.5rem">
            Grafico de turnos dados por especialidad.
          </h1>
          <div style="margin-top: 3rem tpesp">
            <canvas id="turnosPorEspecialidad"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- MODAL DE TURNOS POR DIA -->
<div
  class="modal fade modal-xl"
  id="modalTurnosPorDia"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body" style="background-color: rgba(0,156,140,.7);;">
        <button
          type="button"
          [appCambioColorPdfExcel]="'pdf'"
          style="margin-right: 1rem; margin-bottom: 1rem; margin-left: 25rem;"
          (click)="descargarPDFTurnosPorDia()"
        >
          Descargar PDF
        </button>
        <button
          type="button"
          [appCambioColorPdfExcel]="'excel'"
          style="margin-bottom: 1rem"
          (click)="descargarExcelTurnosPorDia()"
        >
          Descargar EXCEL
        </button>
        <div id="pdfTurnosPorDia">
          <div
          style=" margin-bottom: 2rem" class="d-flex flex-column justify-content-center align-items-center"
        >
          <div>
            <h2
              style="
                text-align: center;
                font-size: 1.5rem;
                font-weight: bolder;
                padding-top: 2rem;
                margin-left: auto;
                margin-right: auto;
              "
              id="exampleModalLabel"
            >
              CLÍNICA ONLINE
            </h2>
          </div>
          <div>
              <img
                src="../../../assets/hospital.png"
                style="width: 100px"
                alt="logo"
              />
          </div>
        </div>
          <h1 style="text-align: center; font-size: 1.5rem">Turnos dados por día</h1>
          <div style="margin-top: 1rem; width: 65%; margin-left: 20%">
            <canvas id="turnosPorDia"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- MODAL DE TURNOS SOLICITADOS POR MEDICO EN UN LAPSO DE TIEMPO -->
<div
  class="modal fade modal-xl"
  id="modalTurnosSolicitadosPorMedico"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body" style="background-color: rgba(0,156,140,.7);">
        <button
          type="button"
          [appCambioColorPdfExcel]="'pdf'"
          style="margin-right: 1rem; margin-bottom: 1rem; margin-left: 25rem;"
          (click)="descargarPDFTurnosSolicitadosPorMedico()"
        >
          Descargar PDF
        </button>
        <button
          type="button"
          class="btn btn-warning"
          style="margin-bottom: 1rem"
          (click)="descargarExcelTurnosSolicitadosPorMedico()"
        >
          Descargar EXCEL
        </button>
        <br />
        <div
          style="
            display: block;
            text-align: center;
            margin-left: auto;
            margin-right: auto;
          "
        >
          <label
            style="font-size: 1rem; font-weight: bolder; margin-right: 2rem"
            >FILTRO:
          </label>
          <button
            class="btn"
            [appCambioColorPdfExcel]="'sieteDias'"
            style="margin-right: 1rem"
            (click)="filtrarTurnosPorDias(7)"
          >
            7 DÍAS
          </button>
          <button
            class="btn"
            [appCambioColorPdfExcel]="'quinceDias'"
            style="margin-right: 1rem"
            (click)="filtrarTurnosPorDias(15)"
          >
            15 DÍAS
          </button>
        </div>
        <div id="pdfTurnosSolicitadosPorMedico">
          <div
          style=" margin-bottom: 2rem" class="d-flex flex-column justify-content-center align-items-center"
        >
          <div>
            <h2
              style="
                text-align: center;
                font-size: 1.5rem;
                font-weight: bolder;
                padding-top: 2rem;
                margin-left: auto;
                margin-right: auto;
              "
              id="exampleModalLabel"
            >
              CLÍNICA ONLINE
            </h2>
          </div>
          <div>
              <img
                src="../../../assets/hospital.png"
                style="width: 100px"
                alt="logo"
              />
          </div>
        </div>
          <h1 style="text-align: center; font-size: 1.5rem">
            TURNOS SOLICITADOS POR MÉDICO DE LOS PRÓXIMOS
            {{ btn15Dias ? "15 DÍAS" : "7 DÍAS" }}
          </h1>
          <div
            style="margin-top: 1rem; width: 65%; margin-left: 20%"
            *ngIf="banderaChartSolicitados"
          >
            <canvas id="turnosSolicitadosPorMedico"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- MODAL DE TURNOS FINALIZADOS POR MEDICO EN UN LAPSO DE TIEMPO -->
<div
  class="modal fade modal-xl"
  id="modalTurnosFinalizadosPorMedico"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body" style="background-color: rgba(0,156,140,.7);">
        <button
          type="button"
          [appCambioColorPdfExcel]="'pdf'"
          style="margin-right: 1rem; margin-bottom: 1rem; margin-left: 25rem;"
          (click)="descargarPDFTurnosFinalizadosPorMedico()"
        >
          Descargar PDF
        </button>
        <button
          type="button"
          [appCambioColorPdfExcel]="'excel'"
          style="margin-bottom: 1rem"
          (click)="descargarExcelTurnosFinalizadosPorMedico()"
        >
          Descargar EXCEL
        </button>
        <br />
        <div
          style="
            display: block;
            text-align: center;
            margin-left: auto;
            margin-right: auto;
          "
        >
          <label
            style="font-size: 1rem; font-weight: bolder; margin-right: 2rem"
            >FILTRO:
          </label>
          <button
            class="btn"
            [appCambioColorPdfExcel]="'sieteDias'"
            style="margin-right: 1rem"
            (click)="filtrarTurnosPorDiasFinalizados(7)"
          >
            7 DÍAS
          </button>
          <button
            class="btn"
            [appCambioColorPdfExcel]="'quinceDias'"
            style="margin-right: 1rem"
            (click)="filtrarTurnosPorDiasFinalizados(15)"
          >
            15 DÍAS
          </button>
        </div>
        <div id="pdfTurnosFinalizadosPorMedico">
          <div
          style=" margin-bottom: 2rem" class="d-flex flex-column justify-content-center align-items-center"
        >
          <div>
            <h2
              style="
                text-align: center;
                font-size: 1.5rem;
                font-weight: bolder;
                padding-top: 2rem;
                margin-left: auto;
                margin-right: auto;
              "
              id="exampleModalLabel"
            >
              CLÍNICA ONLINE
            </h2>
          </div>
          <div>
              <img
                src="../../../assets/hospital.png"
                style="width: 100px"
                alt="logo"
              />
          </div>
        </div>
          <h1 style="text-align: center; font-size: 1.5rem">
            TURNOS FINALIZADOS POR MÉDICO HACE
            {{ btn15DiasFinalizado ? "15 DÍAS" : "7 DÍAS" }}
          </h1>
          <div
            style="margin-top: 1rem; width: 65%; margin-left: 20%"
            *ngIf="banderaChartFinalizados"
          >
            <canvas id="turnosFinalizadosPorMedico"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="spinner" class="spinner-container">
  <div class=" loader"></div>
</div>